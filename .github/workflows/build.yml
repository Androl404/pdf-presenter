name: Build PDF Presenter

on:
    push:
        branches: [master, main]
        tags:
          - 'v[0-9]+.[0-9]+.[0-9]+*'  # Only semantic version tags like v1.0.0, v2.1.3-beta
    pull_request:
        branches: [master, main]


jobs:
    build:
        runs-on: ${{ matrix.os }}

        strategy:
            matrix:
                os: [ubuntu-24.04, ubuntu-22.04]

        steps:
            - uses: actions/checkout@main
            - name: Update the repos
              run: sudo apt update
            - name: Install dependencies
              run: sudo apt install -y libgtk-4-dev libpoppler-dev libpoppler-glib-dev
            - name: Build Pdf-Presenter
              run: ./build.sh
